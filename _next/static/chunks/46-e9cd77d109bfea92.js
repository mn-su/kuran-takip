"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{2467:(e,t,r)=>{r.d(t,{DX:()=>d,TL:()=>s});var n,a=r(2115),o=r(4446),l=r(5155),u=Symbol.for("react.lazy"),i=(n||(n=r.t(a,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===u&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function s(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(c(r)&&"function"==typeof i&&(r=i(r._payload)),a.isValidElement(r)){var l;let e,u,i=(l=r,(u=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(u=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{let t=o(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?(0,o.t)(t,i):i),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...o}=e;c(n)&&"function"==typeof i&&(n=i(n._payload));let u=a.Children.toArray(n),s=u.find(p);if(s){let e=s.props.children,n=u.map(t=>t!==s?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...o,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,l.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var d=s("Slot"),f=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},3209:(e,t,r)=>{r.d(t,{BT:()=>c,Wu:()=>s,ZB:()=>i,Zp:()=>l,aR:()=>u});var n=r(5155),a=r(2115),o=r(5016);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});l.displayName="Card";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...a})});u.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...a})});s.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},4446:(e,t,r)=>{r.d(t,{s:()=>l,t:()=>o});var n=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(o(...e),e)}},4568:(e,t,r)=>{r.d(t,{F6:()=>m,FB:()=>b,Iq:()=>v,Rn:()=>S,y4:()=>w});var n=r(9584);let a="kuran_takip_guest_progress",o={currentSurah:1,currentAyah:1,completedSurahs:[],completedAt:null,updatedAt:null};function l(e){return Array.from(new Set(e.filter(e=>Number.isFinite(e)&&e>=1&&e<=114))).sort((e,t)=>e-t)}function u(e){var t,r;let n=Math.max(1,Math.min(114,Number(null!=(t=e.currentSurah)?t:o.currentSurah))),a=Math.max(1,Number(null!=(r=e.currentAyah)?r:o.currentAyah)),u=l(Array.isArray(e.completedSurahs)?e.completedSurahs.map(e=>Number(e)):o.completedSurahs);return{currentSurah:n,currentAyah:a,completedSurahs:u,completedAt:"string"==typeof e.completedAt||null===e.completedAt?e.completedAt:o.completedAt,updatedAt:"string"==typeof e.updatedAt||null===e.updatedAt?e.updatedAt:null}}function i(){return(0,n.ES)()&&(0,n.wR)()&&!(0,n.uW)()}function c(e){if("object"!=typeof e||null===e||!("response"in e))return!1;let t=e.response;return!!((null==t?void 0:t.data)&&"completed_surahs"in t.data)}function s(e){return JSON.stringify(l(e))}async function d(e,t){let r={user:t,current_surah:1,current_ayah:1};try{return await e.collection("progress").create({...r,completed_surahs:s([])})}catch(t){if(!c(t))throw t;try{return await e.collection("progress").create({...r,completed_surahs:[]})}catch(t){if(!c(t))throw t;return await e.collection("progress").create(r)}}}async function f(e,t,r){let n={current_surah:r.currentSurah,current_ayah:r.currentAyah};try{return await e.collection("progress").update(t,{...n,completed_surahs:s(r.completedSurahs)})}catch(a){if(!c(a))throw a;try{return await e.collection("progress").update(t,{...n,completed_surahs:r.completedSurahs})}catch(a){if(!c(a)||r.completedSurahs.length>0)throw a;return await e.collection("progress").update(t,n)}}}function p(){let e=window.localStorage.getItem(a);if(!e)return o;try{return u(JSON.parse(e))}catch(e){return o}}function h(e){window.localStorage.setItem(a,JSON.stringify(e))}function m(){window.localStorage.removeItem(a)}function y(e){var t,r,n,a;let o=[];if(Array.isArray(e.completed_surahs))o=e.completed_surahs.map(e=>Number(e));else if("string"==typeof e.completed_surahs)try{let t=JSON.parse(e.completed_surahs);Array.isArray(t)&&(o=t.map(e=>Number(e)))}catch(e){o=[]}let l=o.includes(114)&&null!=(r=null!=(t=e.updated_at)?t:e.updated)?r:null;return u({currentSurah:e.current_surah,currentAyah:e.current_ayah,completedSurahs:o,completedAt:l,updatedAt:null!=(a=null!=(n=e.updated_at)?n:e.updated)?a:null})}async function g(){let e=(0,n.pr)(),t=(0,n.WR)();if(!e||!t)throw Error("PocketBase kullanıcı oturumu bulunamadı.");try{return await e.collection("progress").getFirstListItem('user="'.concat(t,'"'))}catch(r){if(404!==(null==r?void 0:r.status))throw r;return await d(e,t)}}async function w(){return i()?y(await g()):p()}function v(e){return Math.round(e.completedSurahs.length/114*100)}async function b(e){if(!i()){let t=u({...p(),...e,updatedAt:new Date().toISOString()});return h(t),t}let t=(0,n.pr)();if(!t)throw Error("PocketBase bağlantısı kurulamadı.");let r=await g(),a=u({...y(r),...e,updatedAt:new Date().toISOString()});return y(await f(t,r.id,a))}async function S(){let e={...o,updatedAt:new Date().toISOString()};if(!i())return h(e),e;let t=(0,n.pr)();if(!t)throw Error("PocketBase bağlantısı kurulamadı.");let r=await g();return y(await f(t,r.id,e))}},5016:(e,t,r)=>{r.d(t,{cn:()=>o});var n=r(2821),a=r(5889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},7003:(e,t,r)=>{r.d(t,{$:()=>c});var n=r(5155),a=r(2115),o=r(2467),l=r(5016);let u={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},i={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},c=a.forwardRef((e,t)=>{let{className:r,variant:a="default",size:c="default",asChild:s=!1,...d}=e,f=s?o.DX:"button";return(0,n.jsx)(f,{className:(0,l.cn)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u[a],i[c],r),ref:t,...d})});c.displayName="Button"},9584:(e,t,r)=>{r.d(t,{$I:()=>s,ES:()=>u,Mu:()=>f,WR:()=>h,Wq:()=>y,_h:()=>m,pr:()=>c,ri:()=>g,uW:()=>d,wR:()=>p});var n=r(4603);let a="kuran_takip_guest_mode",o="http://127.0.0.1:8090",l=null;function u(){return!!o}function i(){return o?o.replace(/\/+$/,""):null}function c(){let e=i();return e?(l||(l=new n.Ay(e)).autoCancellation(!1),l):null}async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2500,t=i();if(!t)return!1;let r=new AbortController,n=globalThis.setTimeout(()=>r.abort(),e);try{return(await fetch("".concat(t,"/api/health"),{method:"GET",cache:"no-store",signal:r.signal})).ok}catch(e){return!1}finally{globalThis.clearTimeout(n)}}function d(){return"1"===window.localStorage.getItem(a)}function f(e){if(e){var t;window.localStorage.setItem(a,"1"),null==(t=c())||t.authStore.clear()}else window.localStorage.removeItem(a)}function p(){var e;let t=c();return!!((null==t?void 0:t.authStore.isValid)&&(null==(e=t.authStore.model)?void 0:e.id))}function h(){var e;let t=c(),r=null==t?void 0:t.authStore.model;return null!=(e=null==r?void 0:r.id)?e:null}async function m(e,t){let r=c();if(!r)throw Error("PocketBase URL ayarlı değil.");let n=await r.collection("users").authWithPassword(e,t);return f(!1),n}async function y(e,t){let r=c();if(!r)throw Error("PocketBase URL ayarlı değil.");await r.collection("users").create({email:e,password:t,passwordConfirm:t});let n=await r.collection("users").authWithPassword(e,t);return f(!1),n}function g(){var e;null==(e=c())||e.authStore.clear()}}}]);