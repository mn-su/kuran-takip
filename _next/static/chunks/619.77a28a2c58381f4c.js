"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{1619:(e,a,r)=>{r.r(a),r.d(a,{default:()=>g});var t=r(5155),n=r(5379),i=r(2115),s=r(3422),l=r(7003),o=r(3209),d=r(489),u=r(5016);let c=i.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,t.jsx)(d.b,{ref:a,className:(0,u.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...n})});c.displayName=d.b.displayName;var m=r(868);let h=i.forwardRef((e,a)=>{let{className:r,...n}=e;return(0,t.jsx)(m.bL,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...n,ref:a,children:(0,t.jsx)(m.zi,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});h.displayName=m.bL.displayName;var f=r(9852);let b=[{key:"small",label:"K\xfc\xe7\xfck"},{key:"medium",label:"Orta"},{key:"large",label:"B\xfcy\xfck"}],p=[{key:"abay",label:"Abay Amasya-Regular (Varsayılan)",description:"Abay ana font + Quran işaret fallback"},{key:"diyanet_amasya",label:"Diyanet Amasya-Regular",description:"Diyanet API font endpointinden alınan TTF"},{key:"amiri",label:"Amiri",description:"Klasik naskh g\xf6r\xfcn\xfcm (Quran glyph fallback ile)"}],y=[{key:"tanzil_simple_plain",label:"Tanzil (Yerel)",description:"Cihazınızdaki veritabanından okunur (\xc7evrimdışı)"},{key:"diyanet",label:"Diyanet (API)",description:"Diyanet sunucularından anlık \xe7ekilir (İnternet bağlantısı gerektirir)"}];function g(){let{theme:e,setTheme:a}=(0,n.D)(),{fontSize:r,quranFont:d,textSource:u,setFontSize:m,setQuranFont:g,setTextSource:x,showTranslation:k,setShowTranslation:v}=(0,s.I)(),[N,j]=(0,i.useState)(!1),[w,S]=(0,i.useState)((0,f.vc)({page:1}));return((0,i.useEffect)(()=>{j(!0);let e=window.localStorage.getItem(f.LB);if(!e)return;let a=(0,f.YD)(e);a&&(S(a),a!==e&&window.localStorage.setItem(f.LB,a))},[]),N)?(0,t.jsx)("section",{className:"mx-auto max-w-xl space-y-6",children:(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.ZB,{children:"Ayarlar"}),(0,t.jsx)(o.BT,{children:"G\xf6r\xfcn\xfcm ve okuma tercihleri burada tutulur."})]}),(0,t.jsxs)(o.Wu,{className:"space-y-6",children:[(0,t.jsx)(l.$,{asChild:!0,variant:"outline",className:"w-full",children:(0,t.jsx)("a",{href:"".concat("/kuran-takip").concat(w),children:"Mushafa D\xf6n"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c,{htmlFor:"theme-mode",children:"Karanlık Mod"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A\xe7ık/Koyu tema ge\xe7işi"})]}),(0,t.jsx)(h,{id:"theme-mode",checked:"dark"===e,onCheckedChange:e=>a(e?"dark":"light")})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{children:"Font Boyutu"}),(0,t.jsx)("div",{className:"flex gap-2",children:b.map(e=>(0,t.jsx)(l.$,{variant:r===e.key?"default":"outline",onClick:()=>m(e.key),children:e.label},e.key))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c,{children:"İki Parmak Yakınlaştırması (Zoom)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Okuma ekranında parmak hareketiyle yapılan b\xfcy\xfctmeyi varsayılana d\xf6nd\xfcr"})]}),(0,t.jsx)(l.$,{variant:"outline",onClick:()=>{window.localStorage.setItem("kuran_zoom_level","1"),alert("Yakınlaştırma sıfırlandı!")},children:"Sıfırla"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{children:"Kuran Fontu"}),(0,t.jsx)("div",{className:"grid gap-2",children:p.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>g(e.key),className:"rounded-lg border p-3 text-left transition ".concat(d===e.key?"border-primary bg-primary/5":"border-border hover:border-primary/40 hover:bg-muted/50"),children:[(0,t.jsx)("p",{className:"font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.key))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c,{children:"Metin Kaynağı (Arap\xe7a & Meal)"}),(0,t.jsx)("div",{className:"grid gap-2",children:y.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>x(e.key),className:"rounded-lg border p-3 text-left transition ".concat(u===e.key?"border-primary bg-primary/5":"border-border hover:border-primary/40 hover:bg-muted/50"),children:[(0,t.jsx)("p",{className:"font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.key))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c,{htmlFor:"meal-toggle",children:"Meal Butonunu G\xf6ster"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reader ekranında Meali G\xf6ster butonunu a\xe7/kapat"})]}),(0,t.jsx)(h,{id:"meal-toggle",checked:k,onCheckedChange:v})]})]})]})}):(0,t.jsx)(o.Zp,{children:(0,t.jsx)(o.aR,{children:(0,t.jsx)(o.ZB,{children:"Ayarlar y\xfckleniyor..."})})})}},1709:(e,a,r)=>{r.d(a,{C_:()=>c,Ko:()=>u,Tg:()=>s,Xk:()=>d,ZS:()=>i,aI:()=>o,nU:()=>l,rp:()=>n});var t=r(4787);let n=t.mI.numPages-1;function i(e){return Number.isFinite(e)?Math.max(0,Math.min(n,Math.floor(e))):0}function s(e,a){try{let r=Number((0,t.zV)(e,a));return i(r-1)}catch(e){return 0}}function l(e){let a=i(e),r=(0,t.Pl)(a+1);return{page:a,first:[Number(r.first[0]),Number(r.first[1])],last:[Number(r.last[0]),Number(r.last[1])]}}function o(e){let a=l(e),[r,n]=a.first,[i,s]=a.last;if(r===i)return[{surah:r,fromAyah:n,toAyah:s}];let o=[];for(let e=r;e<=i;e+=1){if(e===r){o.push({surah:e,fromAyah:n,toAyah:Number((0,t.pv)(e))});continue}if(e===i){o.push({surah:e,fromAyah:1,toAyah:s});continue}o.push({surah:e,fromAyah:1,toAyah:Number((0,t.pv)(e))})}return o}function d(e){return Math.round(i(e)/n*100)}function u(e){return Number((0,t.pv)(e))}function c(e){let a=l(e);return[Number((0,t.Nb)(a.first[0],a.first[1])),Number((0,t.Nb)(a.last[0],a.last[1]))]}},3422:(e,a,r)=>{r.d(a,{I:()=>o,Z:()=>l});var t=r(5155),n=r(2115);let i="kuran_takip_settings",s=(0,n.createContext)(void 0);function l(e){let{children:a}=e,[r,l]=(0,n.useState)("medium"),[o,d]=(0,n.useState)("abay"),[u,c]=(0,n.useState)("tanzil_simple_plain"),[m,h]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=window.localStorage.getItem(i);if(!e)return void window.localStorage.setItem(i,JSON.stringify({fontSize:"medium",quranFont:"abay",textSource:"tanzil_simple_plain",showTranslation:!0}));try{let a=JSON.parse(e);("small"===a.fontSize||"medium"===a.fontSize||"large"===a.fontSize)&&l(a.fontSize),("amiri"===a.quranFont||"abay"===a.quranFont||"diyanet_amasya"===a.quranFont)&&d(a.quranFont),("tanzil_simple_plain"===a.textSource||"diyanet"===a.textSource)&&c(a.textSource),"boolean"==typeof a.showTranslation&&h(a.showTranslation)}catch(e){}},[]);let f=(0,n.useCallback)((e,a,r,t)=>{window.localStorage.setItem(i,JSON.stringify({fontSize:e,quranFont:a,textSource:r,showTranslation:t}))},[]),b=(0,n.useCallback)(e=>{l(e),f(e,o,u,m)},[f,o,m,u]),p=(0,n.useCallback)(e=>{d(e),f(r,e,u,m)},[r,f,m,u]),y=(0,n.useCallback)(e=>{c(e),f(r,o,e,m)},[r,f,o,m]),g=(0,n.useCallback)(e=>{h(e),f(r,o,u,e)},[r,f,o,u]),x=(0,n.useMemo)(()=>({fontSize:r,quranFont:o,textSource:u,showTranslation:m,setFontSize:b,setQuranFont:p,setTextSource:y,setShowTranslation:g}),[r,o,b,p,g,y,m,u]);return(0,t.jsx)(s.Provider,{value:x,children:a})}function o(){let e=(0,n.useContext)(s);if(!e)throw Error("useAppSettings must be used within SettingsProvider");return e}},7003:(e,a,r)=>{r.d(a,{$:()=>d});var t=r(5155),n=r(2115),i=r(2467),s=r(5016);let l={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},o={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},d=n.forwardRef((e,a)=>{let{className:r,variant:n="default",size:d="default",asChild:u=!1,...c}=e,m=u?i.DX:"button";return(0,t.jsx)(m,{className:(0,s.cn)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",l[n],o[d],r),ref:a,...c})});d.displayName="Button"},9852:(e,a,r)=>{r.d(a,{LB:()=>n,YD:()=>l,vc:()=>s});var t=r(1709);let n="kuran_takip_last_reader_path";function i(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;let r=Number(e);if(Number.isInteger(r)&&!(r<+!a))return r}function s(e){let{page:a,surah:r,ayah:n}=e,s=(0,t.ZS)(a),l=new URLSearchParams;l.set("page",String(s));let o=i("number"==typeof r?String(r):void 0),d=i("number"==typeof n?String(n):void 0);return o&&l.set("surah",String(o)),d&&l.set("ayah",String(d)),"/reader?".concat(l.toString())}function l(e){try{let a=new URL(e,"https://kuran-takip.local");if("/reader"===a.pathname){let e=a.searchParams.get("page"),r="0"===e?0:i(e,!0);if(void 0===r||r>t.rp)return null;let n=i(a.searchParams.get("surah")),l=i(a.searchParams.get("ayah"));return s({page:r,surah:n,ayah:l})}let r=a.pathname.match(/^\/reader\/(\d+)$/);if(!r)return null;let n=Number(r[1]);if(!Number.isInteger(n)||n<0||n>t.rp)return null;let l=i(a.searchParams.get("surah")),o=i(a.searchParams.get("ayah"));return s({page:n,surah:l,ayah:o})}catch(e){return null}}}}]);