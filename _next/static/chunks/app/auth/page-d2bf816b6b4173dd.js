(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1259:(e,r,l)=>{Promise.resolve().then(l.bind(l,4237))},4237:(e,r,l)=>{"use strict";l.r(r),l.d(r,{default:()=>m});var a=l(5155),i=l(2115),t=l(7003),n=l(3209),s=l(6170),o=l(4568),d=l(9584);let u="/kuran-takip",c="Giriş/kayıt sistemi devre dışı bırakılmıştır.";function f(e){if("object"==typeof e&&null!==e&&"response"in e){var r;let l=e.response,a=(null==l?void 0:l.data)?null==(r=Object.values(l.data)[0])?void 0:r.message:null;if("string"==typeof a&&a.length>0)return a;if("string"==typeof(null==l?void 0:l.message)&&l.message.length>0)return l.message}return e instanceof TypeError||e instanceof Error&&/failed to fetch|network|connection|cors/i.test(e.message)?c:e instanceof Error?e.message:"İşlem başarısız oldu."}function m(){let[e,r]=(0,i.useState)(""),[l,m]=(0,i.useState)(""),[p,h]=(0,i.useState)(null),[y,g]=(0,i.useState)(null),[b,v]=(0,i.useState)(null),x=(0,d.ES)(),w=!x||!1===y,k=()=>{let r=e.trim();return r&&r.includes("@")?!(l.length<8)||(v("Şifre en az 8 karakter olmalı."),!1):(v("Ge\xe7erli bir e-posta girin."),!1)};(0,i.useEffect)(()=>{(0,d.wR)()&&!(0,d.uW)()&&(window.location.href="".concat(u,"/"))},[]),(0,i.useEffect)(()=>{let e=!1,r=null;async function l(){if(!x){e||g(!1);return}let r=await (0,d.$I)();e||(g(r),r?v(e=>e===c?null:e):v(e=>null!=e?e:c))}return l(),r=window.setInterval(()=>{l()},15e3),()=>{e=!0,null!==r&&window.clearInterval(r)}},[x]);let j=async()=>{if(w)return void v(c);if(null===y)return void v("Giriş servisi kontrol ediliyor. L\xfctfen birka\xe7 saniye sonra tekrar deneyin.");if(k()){h("login"),v(null);try{await (0,d._h)(e.trim(),l),(0,o.F6)(),window.location.href="".concat(u,"/")}catch(e){v(f(e))}finally{h(null)}}},N=async()=>{if(w)return void v(c);if(null===y)return void v("Kayıt servisi kontrol ediliyor. L\xfctfen birka\xe7 saniye sonra tekrar deneyin.");if(k()){h("register"),v(null);try{await (0,d.Wq)(e.trim(),l),(0,o.F6)(),window.location.href="".concat(u,"/")}catch(e){v(f(e))}finally{h(null)}}};return(0,a.jsx)("section",{className:"mx-auto max-w-lg",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Giriş / Kayıt"}),(0,a.jsx)(n.BT,{children:"E-posta ve şifre ile giriş yapın veya yeni hesap a\xe7ın."})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[w&&(0,a.jsx)("p",{className:"rounded-md border border-amber-300 bg-amber-100 p-3 text-sm text-amber-900",children:c}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium",children:"E-posta"}),(0,a.jsx)(s.p,{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"ornek@mail.com"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"password",className:"text-sm font-medium",children:"Şifre"}),(0,a.jsx)(s.p,{id:"password",type:"password",value:l,onChange:e=>m(e.target.value),placeholder:"********"})]}),(0,a.jsx)(t.$,{size:"lg",className:"w-full",onClick:j,disabled:null!==p,children:"login"===p?"Giriş yapılıyor...":"Giriş Yap"}),(0,a.jsx)(t.$,{variant:"secondary",size:"lg",className:"w-full",onClick:N,disabled:null!==p,children:"register"===p?"Kayıt oluşturuluyor...":"Kayıt Ol"}),(0,a.jsx)(t.$,{variant:"outline",size:"lg",className:"w-full",onClick:()=>{(0,d.Mu)(!0),window.location.href="".concat(u,"/")},children:"Misafir Olarak Devam Et"}),(0,a.jsx)("p",{className:"rounded-md border p-3 text-sm text-muted-foreground",children:"Misafir modunda ilerleme sadece bu cihazda localStorage i\xe7inde saklanır. Hesap a\xe7ınca misafir verisi silinir, birleştirme yapılmaz."}),b&&(0,a.jsx)("p",{className:"text-sm text-destructive",children:b})]})]})})}},6170:(e,r,l)=>{"use strict";l.d(r,{p:()=>n});var a=l(5155),i=l(2115),t=l(5016);let n=i.forwardRef((e,r)=>{let{className:l,type:i,...n}=e;return(0,a.jsx)("input",{type:i,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:r,...n})});n.displayName="Input"}},e=>{e.O(0,[909,603,46,441,696,358],()=>e(e.s=1259)),_N_E=e.O()}]);