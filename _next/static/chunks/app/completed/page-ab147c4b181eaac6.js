(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{1709:(e,r,t)=>{"use strict";t.d(r,{C_:()=>o,Ko:()=>h,Tg:()=>i,Xk:()=>c,ZS:()=>l,aI:()=>u,nU:()=>s,rp:()=>n});var a=t(4787);let n=a.mI.numPages-1;function l(e){return Number.isFinite(e)?Math.max(0,Math.min(n,Math.floor(e))):0}function i(e,r){try{let t=Number((0,a.zV)(e,r));return l(t-1)}catch(e){return 0}}function s(e){let r=l(e),t=(0,a.Pl)(r+1);return{page:r,first:[Number(t.first[0]),Number(t.first[1])],last:[Number(t.last[0]),Number(t.last[1])]}}function u(e){let r=s(e),[t,n]=r.first,[l,i]=r.last;if(t===l)return[{surah:t,fromAyah:n,toAyah:i}];let u=[];for(let e=t;e<=l;e+=1){if(e===t){u.push({surah:e,fromAyah:n,toAyah:Number((0,a.pv)(e))});continue}if(e===l){u.push({surah:e,fromAyah:1,toAyah:i});continue}u.push({surah:e,fromAyah:1,toAyah:Number((0,a.pv)(e))})}return u}function c(e){return Math.round(l(e)/n*100)}function h(e){return Number((0,a.pv)(e))}function o(e){let r=s(e);return[Number((0,a.Nb)(r.first[0],r.first[1])),Number((0,a.Nb)(r.last[0],r.last[1]))]}},2468:(e,r,t)=>{Promise.resolve().then(t.bind(t,3704))},3704:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a=t(5155),n=t(2115),l=t(7003),i=t(3209),s=t(4568),u=t(9852);let c="/kuran-takip";function h(){let[e,r]=(0,n.useState)(null),[t,h]=(0,n.useState)(!0),[o,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=!1;return async function(){h(!0);let t=await (0,s.y4)();e||(r(t),h(!1))}(),()=>{e=!0}},[]);let d=(0,n.useMemo)(()=>{var r;let t=null!=(r=null==e?void 0:e.completedAt)?r:null==e?void 0:e.updatedAt;if(!t)return"Bilinmiyor";let a=new Date(t);return Number.isNaN(a.getTime())?"Bilinmiyor":a.toLocaleString("tr-TR")},[e]),f=async()=>{var e;m(!0),await (0,s.Rn)(),e=(0,u.vc)({page:1}),window.location.href="".concat(c).concat(e)};return t?(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Kontrol ediliyor..."})})}):(null==e?void 0:e.completedSurahs.includes(114))?(0,a.jsx)("section",{className:"mx-auto max-w-xl",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Tebrikler, hatmi tamamladınız"}),(0,a.jsxs)(i.BT,{children:["Tamamlanma tarihi: ",d]})]}),(0,a.jsxs)(i.Wu,{className:"space-y-3",children:[(0,a.jsx)(l.$,{className:"w-full",onClick:f,disabled:o,children:o?"Sıfırlanıyor...":"Yeni Hatme Başla"}),(0,a.jsx)(l.$,{className:"w-full",variant:"outline",asChild:!0,children:(0,a.jsx)("a",{href:"".concat(c,"/"),children:"Ana Ekrana D\xf6n"})})]})]})}):(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Hen\xfcz tamamlanmadı"}),(0,a.jsx)(i.BT,{children:"114. sure tamamlandığında tebrik ekranı g\xf6r\xfcn\xfcr."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(l.$,{asChild:!0,children:(0,a.jsx)("a",{href:"".concat(c,"/"),children:"Kaldığım Yere D\xf6n"})})})]})}},9852:(e,r,t)=>{"use strict";t.d(r,{LB:()=>n,YD:()=>s,vc:()=>i});var a=t(1709);let n="kuran_takip_last_reader_path";function l(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return;let t=Number(e);if(Number.isInteger(t)&&!(t<+!r))return t}function i(e){let{page:r,surah:t,ayah:n}=e,i=(0,a.ZS)(r),s=new URLSearchParams;s.set("page",String(i));let u=l("number"==typeof t?String(t):void 0),c=l("number"==typeof n?String(n):void 0);return u&&s.set("surah",String(u)),c&&s.set("ayah",String(c)),"/reader?".concat(s.toString())}function s(e){try{let r=new URL(e,"https://kuran-takip.local");if("/reader"===r.pathname){let e=r.searchParams.get("page"),t="0"===e?0:l(e,!0);if(void 0===t||t>a.rp)return null;let n=l(r.searchParams.get("surah")),s=l(r.searchParams.get("ayah"));return i({page:t,surah:n,ayah:s})}let t=r.pathname.match(/^\/reader\/(\d+)$/);if(!t)return null;let n=Number(t[1]);if(!Number.isInteger(n)||n<0||n>a.rp)return null;let s=l(r.searchParams.get("surah")),u=l(r.searchParams.get("ayah"));return i({page:n,surah:s,ayah:u})}catch(e){return null}}}},e=>{e.O(0,[909,787,603,46,441,696,358],()=>e(e.s=2468)),_N_E=e.O()}]);